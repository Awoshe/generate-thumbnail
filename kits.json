{
  "functions": [
    {
      "entryPoint": "default",
      "name": "thumbnailer",
      "sourceArchiveUrl": "gs://cloud-kits/generate-thumbnail/latest.zip",
      "eventTrigger":
      {
        "eventType": "providers/cloud.storage/eventTypes/object.change",
        "resource": ${DEFAULT_RESOURCE}/${OBJECT_PREFIX}
      }
    },
    {
      "entryPoint": "default",
      "name": "thumbnailer2",
      "sourceArchiveUrl": "gs://cloud-kits/generate-thumbnail/latest.zip",
      "eventTrigger":
      {
        "eventType": "providers/cloud.storage/eventTypes/object.change",
        "resource": ${DEFAULT_RESOURCE}/${OBJECT_PREFIX}
      }
    }
  ],
  "config": [
    {
      "name": "MAX_HEIGHT",
      "type": "number",
      "label": "Thumbnail Max Height (px)",
      "default": 300
    },
    {
      "name": "MAX_WIDTH",
      "type": "number",
      "label": "Thumbnail Max Width (px)",
      "default": 300
    },
    {
      "name": "OBJECT_PREFIX",
      "type": "string",
      "label": "Object prefix (e.g. images/)",
      "default": null
    }
  ]
}
